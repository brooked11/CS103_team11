<!-- This page was created by Brooke. -->
<h1>Transactions for <%= user.username %></h1>
<p>Here is your list of things to do!</p>
â€¢ <a href="/transaction"> transaction table</a>
<br><br>
<table class="table table-bordered table-striped" style="width:40%">
    <thead>
        <tr>
            <th>category</th>
            <th>amount</th>
        </tr>
    </thead>
    <tbody>
        <%
            const categories = {};
            items.forEach((item) => { <!-- Loops through the items array -->
                if (categories[item.category]) { <!-- if this category property is already in the categories object -->
                    categories[item.category] += parseInt(item.amount);
                  } else {
                    categories[item.category] = parseFloat(item.amount);
                  }
            });
            Object.keys(categories).forEach((category) => { <!-- returns an array of the object's keys (property names)-->
        %>
        <tr>
               <td> <%= category %> </td>
               <td> <%= categories[category] %> </td>
            </tr>
            
            <% }); %>
    </tbody>
</table>